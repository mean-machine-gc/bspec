<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Getting Started | UbiSpec</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Getting Started" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Behavioural Specification Format for Software Systems" /> <meta property="og:description" content="Behavioural Specification Format for Software Systems" /> <link rel="canonical" href="http://0.0.0.0:4000/guide/getting-started.html" /> <meta property="og:url" content="http://0.0.0.0:4000/guide/getting-started.html" /> <meta property="og:site_name" content="UbiSpec" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Getting Started" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Behavioural Specification Format for Software Systems","headline":"Getting Started","url":"http://0.0.0.0:4000/guide/getting-started.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <header class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> UbiSpec </a> <button id="menu-button" class="site-button btn-reset" aria-label="Menu" aria-expanded="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/guide/conceptual-foundations.html" class="nav-list-link">Conceptual Foundations</a></li><li class="nav-list-item"><a href="/guide/getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="/spec/lifecycle.html" class="nav-list-link">Lifecycle UbiSpec</a></li><li class="nav-list-item"><a href="/spec/process.html" class="nav-list-link">Process UbiSpec</a></li><li class="nav-list-item"><a href="/examples/" class="nav-list-link">Examples</a></li><li class="nav-list-item"><a href="/guide/example-artifacts.html" class="nav-list-link">Example artifacts</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/mean-machine-gc/bspec" class="nav-list-link external" > GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <div class="d-md-block d-none site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </header> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search UbiSpec" autocomplete="off"> <label for="search-input" class="search-label"> <span class="sr-only">Search UbiSpec</span> <svg viewBox="0 0 24 24" class="search-icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg> </label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/mean-machine-gc/bspec" class="site-button" > GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="getting-started-with-ubispec"> <a href="#getting-started-with-ubispec" class="anchor-heading" aria-labelledby="getting-started-with-ubispec"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting Started with UbiSpec </h1> <p>This guide walks through creating UbiSpec for a system, starting from domain discovery and ending with a structured specification that can generate user stories, test scenarios, and documentation.</p> <h2 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <p>UbiSpec captures behaviour. Before writing specs, you need to understand the domain. This understanding can come from:</p> <ul> <li><strong>Collaborative modelling sessions</strong> (EventStorming, Context Mapping, Example Mapping)</li> <li><strong>Domain conversations</strong> with experts and stakeholders</li> <li><strong>Exploratory prototyping</strong> — writing UbiSpec to surface questions</li> </ul> <p>The first two are recommended. The third works when you’re early in discovery and want to use the spec format itself as a thinking tool.</p> <h2 id="two-entry-points"> <a href="#two-entry-points" class="anchor-heading" aria-labelledby="two-entry-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Two Entry Points </h2> <h3 id="entry-a-youve-done-discovery"> <a href="#entry-a-youve-done-discovery" class="anchor-heading" aria-labelledby="entry-a-youve-done-discovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Entry A: You’ve Done Discovery </h3> <p>You’ve run EventStorming workshops or similar sessions. You have a sense of your bounded contexts, key aggregates, commands, events, and policies. You know what the major pieces are and roughly how they interact.</p> <p><strong>Start here:</strong> Pick one aggregate. Write its Lifecycle UbiSpec. Move to the next. Then write Process UbiSpec for the coordination between them.</p> <h3 id="entry-b-youre-exploring"> <a href="#entry-b-youre-exploring" class="anchor-heading" aria-labelledby="entry-b-youre-exploring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Entry B: You’re Exploring </h3> <p>You have a domain to model but haven’t done formal discovery yet. Maybe it’s a greenfield project, or you’re trying to understand an existing system, or you’re in a conversation with a client.</p> <p><strong>Start here:</strong> Pick the most important “thing” in the domain. Ask: what can happen to it? Write a rough lifecycle. The gaps and questions that surface become your discovery backlog — and you’ve already got a structured artifact to show for the conversation.</p> <p>Either way, the format is the same. The quality depends on the discovery, not the syntax.</p><hr /> <h2 id="step-1-identify-your-aggregate"> <a href="#step-1-identify-your-aggregate" class="anchor-heading" aria-labelledby="step-1-identify-your-aggregate"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Identify Your Aggregate </h2> <p>An aggregate is a “thing” that has a lifecycle — it gets created, moves through states, and eventually reaches a terminal state. It enforces its own rules.</p> <p>Ask: <strong>What are the key nouns in this domain that have rules governing what can happen to them?</strong></p> <p>Examples:</p> <ul> <li>An <strong>Order</strong> that gets created, placed, confirmed, shipped, delivered, or cancelled</li> <li>A <strong>Registry</strong> that gets drafted, submitted for review, approved or rejected</li> <li>A <strong>Laboratory</strong> that gets registered, activated, suspended, reinstated, or closed</li> <li>A <strong>Claim</strong> that gets filed, assessed, approved, paid, or disputed</li> </ul> <p>Pick one. Start there.</p> <h2 id="step-2-discover-the-lifecycle-states"> <a href="#step-2-discover-the-lifecycle-states" class="anchor-heading" aria-labelledby="step-2-discover-the-lifecycle-states"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Discover the Lifecycle States </h2> <p>Ask the domain expert: <strong>What states can this thing be in?</strong></p> <p>Draw them out. Find the transitions. Identify:</p> <ul> <li>The <strong>initial state</strong> (what does it look like right after creation?)</li> <li>The <strong>terminal states</strong> (what’s the end of the road?)</li> <li>Any <strong>loops</strong> (can it go back to a previous state?)</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Order: Draft → Placed → Confirmed → Shipped → Delivered
                  ↓                               ↓
               Cancelled                    RefundRequested
</code></pre></div></div> <h2 id="step-3-discover-commands-per-state"> <a href="#step-3-discover-commands-per-state" class="anchor-heading" aria-labelledby="step-3-discover-commands-per-state"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3: Discover Commands Per State </h2> <p>For each state, ask: <strong>What can happen to it when it’s in this state?</strong></p> <p>Each answer is a command. For each command, ask:</p> <ul> <li><strong>Who</strong> initiates it? (A user role, another system, a scheduled job?)</li> <li><strong>What information</strong> do they provide?</li> <li><strong>What must be true</strong> for it to succeed?</li> <li><strong>What changes</strong> as a result?</li> </ul> <p>Don’t try to be exhaustive on the first pass. Capture the main paths. You’ll discover edge cases as you write.</p> <h2 id="step-4-write-the-lifecycle-ubispec-names-only"> <a href="#step-4-write-the-lifecycle-ubispec-names-only" class="anchor-heading" aria-labelledby="step-4-write-the-lifecycle-ubispec-names-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4: Write the Lifecycle UbiSpec (Names Only) </h2> <p>Start with names only. No predicates. This is the <strong>domain pass</strong> — meant to be validated by anyone in the room.</p> <p>Create a file: <code class="language-plaintext highlighter-rouge">order.lifecycle.ubispec.yaml</code></p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">bspec</span><span class="pi">:</span> <span class="s">lifecycle/v1</span>

<span class="na">decider</span><span class="pi">:</span> <span class="s">Order</span>
<span class="na">identity</span><span class="pi">:</span> <span class="s">orderId</span>
<span class="na">model</span><span class="pi">:</span> <span class="s2">"</span><span class="s">./model.ts"</span>

<span class="na">lifecycle</span><span class="pi">:</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">CreateOrder</span>
    <span class="na">And</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">valid-customer</span>
    <span class="na">Then</span><span class="pi">:</span> <span class="s">OrderCreated</span>
    <span class="na">Outcome</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">state-is-draft</span>
      <span class="pi">-</span> <span class="s">customer-set</span>
      <span class="pi">-</span> <span class="s">no-lines</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">AddLineItem</span>
    <span class="na">And</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">order-is-draft</span>
      <span class="pi">-</span> <span class="s">product-exists</span>
      <span class="pi">-</span> <span class="s">positive-quantity</span>
    <span class="na">Then</span><span class="pi">:</span> <span class="s">LineItemAdded</span>
    <span class="na">Outcome</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">line-present</span>
      <span class="pi">-</span> <span class="s">lines-grew</span>
      <span class="pi">-</span> <span class="s">status-unchanged</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">PlaceOrder</span>
    <span class="na">And</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">order-is-draft</span>
      <span class="pi">-</span> <span class="s">has-lines</span>
      <span class="pi">-</span> <span class="s">all-products-in-stock</span>
    <span class="na">Then</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">OrderPlaced</span>
      <span class="pi">-</span> <span class="na">HighValueOrderFlagged</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">high-value</span>
    <span class="na">Outcome</span><span class="pi">:</span>
      <span class="na">_always</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">state-is-placed</span>
        <span class="pi">-</span> <span class="s">placed-at-recorded</span>
      <span class="na">HighValueOrderFlagged</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">requires-manual-review</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">CancelOrder</span>
    <span class="na">And</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">is-cancellable</span>
      <span class="pi">-</span> <span class="s">has-reason</span>
    <span class="na">Then</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">OrderCancelled</span>
      <span class="pi">-</span> <span class="na">InventoryReleased</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">had-reservation</span>
    <span class="na">Outcome</span><span class="pi">:</span>
      <span class="na">_always</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">state-is-cancelled</span>
        <span class="pi">-</span> <span class="s">reason-recorded</span>
</code></pre></div></div> <p><strong>This is already a complete specification.</strong> Read it out loud in a meeting. Does the domain expert agree that:</p> <ul> <li>Creating an order requires a valid customer?</li> <li>Placing an order requires at least one line and all products in stock?</li> <li>A high-value order gets flagged for manual review?</li> <li>Cancellation releases inventory only if it was reserved?</li> </ul> <p>If yes, you’ve captured behaviour. If no, revise. The YAML structure forces precision that prose allows you to dodge.</p> <h2 id="step-5-validate-and-iterate"> <a href="#step-5-validate-and-iterate" class="anchor-heading" aria-labelledby="step-5-validate-and-iterate"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 5: Validate and Iterate </h2> <p>Walk through each command with stakeholders. Common discoveries at this stage:</p> <ul> <li><strong>Missing states</strong>: “Oh, an order can also be On Hold if payment verification is pending.”</li> <li><strong>Missing constraints</strong>: “Actually, you can only cancel before it ships.”</li> <li><strong>Missing outcomes</strong>: “When we cancel, we also need to notify the customer.”</li> <li><strong>Wrong assumptions</strong>: “High value isn’t just about price — it’s also about the customer’s risk rating.”</li> </ul> <p>Update the spec. Each revision is a conversation turn captured in structure. The spec becomes the shared memory of what was decided and why.</p> <h2 id="step-6-discover-cross-aggregate-coordination"> <a href="#step-6-discover-cross-aggregate-coordination" class="anchor-heading" aria-labelledby="step-6-discover-cross-aggregate-coordination"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 6: Discover Cross-Aggregate Coordination </h2> <p>Once you have two or more lifecycles, ask: <strong>When this event happens on aggregate A, does anything need to happen on aggregate B?</strong></p> <p>Walk through every event. Most won’t trigger anything. Some will. Those are your Process UbiSpec.</p> <p>Create a file: <code class="language-plaintext highlighter-rouge">order-fulfillment.process.ubispec.yaml</code></p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">bspec</span><span class="pi">:</span> <span class="s">process/v1</span>

<span class="na">process</span><span class="pi">:</span> <span class="s">OrderFulfillmentManager</span>
<span class="na">reacts_to</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">Order</span><span class="pi">]</span>
<span class="na">emits_to</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">Inventory</span><span class="pi">,</span> <span class="nv">Payment</span><span class="pi">,</span> <span class="nv">Notification</span><span class="pi">]</span>

<span class="na">reactions</span><span class="pi">:</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">OrderPlaced</span>
    <span class="na">From</span><span class="pi">:</span> <span class="s">Order</span>
    <span class="na">Then</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">ReserveInventory -&gt; Inventory</span>
      <span class="pi">-</span> <span class="s">InitiatePaymentCapture -&gt; Payment</span>

  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">OrderCancelled</span>
    <span class="na">From</span><span class="pi">:</span> <span class="s">Order</span>
    <span class="na">Then</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">ReleaseInventory -&gt; Inventory</span>
      <span class="pi">-</span> <span class="na">InitiateRefund -&gt; Payment</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">payment-was-captured</span>
      <span class="pi">-</span> <span class="s">SendNotification -&gt; Notification</span>
</code></pre></div></div> <p>This reveals the <strong>system topology</strong> — which aggregates talk to each other and through what events. It’s the wiring diagram of your system, derived from behaviour, not drawn on a whiteboard.</p> <h2 id="step-7-generate-artifacts"> <a href="#step-7-generate-artifacts" class="anchor-heading" aria-labelledby="step-7-generate-artifacts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 7: Generate Artifacts </h2> <p>From the names-only UbiSpec, you can already generate:</p> <h3 id="user-stories"> <a href="#user-stories" class="anchor-heading" aria-labelledby="user-stories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Stories </h3> <p>Each command entry generates a story:</p> <blockquote> <p><strong>As a</strong> customer<br /> <strong>I can</strong> place an order<br /> <strong>Given</strong> the order is in draft, has lines, and all products are in stock<br /> <strong>So that</strong> the order is placed and the timestamp is recorded<br /> <strong>And if</strong> the order is high value, it is flagged for manual review</p> </blockquote> <h3 id="acceptance-criteria"> <a href="#acceptance-criteria" class="anchor-heading" aria-labelledby="acceptance-criteria"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Acceptance Criteria </h3> <p>Each constraint becomes a criterion:</p> <blockquote> <ul> <li>Order must be in Draft status</li> <li>Order must have at least one line item</li> <li>All products must be in stock</li> <li>After placement, status is Placed</li> <li>Placed timestamp is recorded</li> <li>If order total exceeds threshold, manual review flag is set</li> </ul> </blockquote> <h3 id="test-scenarios"> <a href="#test-scenarios" class="anchor-heading" aria-labelledby="test-scenarios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Scenarios </h3> <p>Each constraint generates a success and failure scenario:</p> <blockquote> <p>✅ Place order with valid lines, all in stock → OrderPlaced<br /> ✅ Place high-value order → OrderPlaced + HighValueOrderFlagged<br /> ❌ Place order with no lines → DecisionFailed [has-lines]<br /> ❌ Place order with out-of-stock product → DecisionFailed [all-products-in-stock]<br /> ❌ Place order that’s already placed → DecisionFailed [order-is-draft]</p> </blockquote> <h3 id="workflow-documentation"> <a href="#workflow-documentation" class="anchor-heading" aria-labelledby="workflow-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Workflow Documentation </h3> <p>The process specs generate coordination flows:</p> <blockquote> <p>When <strong>OrderPlaced</strong> occurs:<br /> → Reserve inventory (Inventory)<br /> → Initiate payment capture (Payment)</p> <p>When <strong>OrderCancelled</strong> occurs:<br /> → Release inventory (Inventory)<br /> → Initiate refund (Payment) <em>only if payment was captured</em><br /> → Send cancellation notification (Notification)</p> </blockquote> <p>All of this is mechanical transformation of the YAML structure. No predicates needed.</p> <h2 id="step-8-add-predicates-when-ready"> <a href="#step-8-add-predicates-when-ready" class="anchor-heading" aria-labelledby="step-8-add-predicates-when-ready"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 8: Add Predicates (When Ready) </h2> <p>When the team moves to implementation, add executable expressions to each name:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="pi">-</span> <span class="na">When</span><span class="pi">:</span> <span class="s">PlaceOrder</span>
    <span class="na">And</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">order-is-draft</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dm.state.status.kind</span><span class="nv"> </span><span class="s">===</span><span class="nv"> </span><span class="s">'Draft'"</span>
      <span class="pi">-</span> <span class="na">has-lines</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dm.state.lines.length</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">0"</span>
      <span class="pi">-</span> <span class="na">all-products-in-stock</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dm.ctx.allInStock"</span>  <span class="c1"># shell: InventoryService.checkAll(dm.state.lines)</span>
    <span class="na">Then</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">OrderPlaced</span>
      <span class="pi">-</span> <span class="na">HighValueOrderFlagged</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">high-value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dm.ctx.orderTotal</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">10000"</span>  <span class="c1"># shell: PricingService.calculateTotal(dm.state.lines)</span>
    <span class="na">Outcome</span><span class="pi">:</span>
      <span class="na">_always</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">state-is-placed</span><span class="pi">:</span> <span class="s2">"</span><span class="s">om.state.status.kind</span><span class="nv"> </span><span class="s">===</span><span class="nv"> </span><span class="s">'Placed'"</span>
        <span class="pi">-</span> <span class="na">placed-at-recorded</span><span class="pi">:</span> <span class="s2">"</span><span class="s">om.state.status.placedAt</span><span class="nv"> </span><span class="s">!=</span><span class="nv"> </span><span class="s">null"</span>
      <span class="na">HighValueOrderFlagged</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">requires-manual-review</span><span class="pi">:</span> <span class="s2">"</span><span class="s">om.state.requiresManualReview</span><span class="nv"> </span><span class="s">===</span><span class="nv"> </span><span class="s">true"</span>
</code></pre></div></div> <p>Now the spec can generate executable tests, implementation skeletons, and integration point manifests (every <code class="language-plaintext highlighter-rouge">dm.ctx</code> reference is a service dependency).</p> <p>This is a different pass by different people. The structure doesn’t change. The names don’t change. The domain expert validated the names. The developer fills in the expressions.</p><hr /> <h2 id="tips"> <a href="#tips" class="anchor-heading" aria-labelledby="tips"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tips </h2> <p><strong>Start small.</strong> One aggregate, five or six commands. Get the pattern right before scaling.</p> <p><strong>Names matter more than expressions.</strong> A good name (<code class="language-plaintext highlighter-rouge">reviewer-is-authorised</code>) communicates intent even without a predicate. A bad name (<code class="language-plaintext highlighter-rouge">check-3</code>) communicates nothing even with one.</p> <p><strong>Outcomes are assertions, not steps.</strong> Don’t describe <em>how</em> the state changes. Describe what must be true <em>after</em>. “state-is-active” not “set status to active.”</p> <p><strong>Assert what doesn’t change.</strong> If placing an order shouldn’t modify the customer ID, say so: <code class="language-plaintext highlighter-rouge">customer-unchanged</code>. The negative space catches bugs that positive assertions miss.</p> <p><strong>Let the Process UbiSpec reveal architecture.</strong> Don’t design the coordination up front. Write the lifecycles first. Then ask “what needs to react to this event?” The topology emerges.</p> <p><strong>Revisit after implementation.</strong> Once code exists, the spec becomes a living contract. If the code can’t satisfy an outcome assertion, either the code has a bug or the spec has a wrong assumption. Either way, the conversation is productive.</p> <h2 id="what-ubispec-gives-you"> <a href="#what-ubispec-gives-you" class="anchor-heading" aria-labelledby="what-ubispec-gives-you"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What UbiSpec Gives You </h2> <p>From a single source of truth, at each level of predicate detail:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Output</th> <th style="text-align: center">Names only</th> <th style="text-align: center">+ Scopes</th> <th style="text-align: center">+ Expressions</th> </tr> </thead> <tbody> <tr> <td>Structured behaviour catalog</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>User stories with acceptance criteria</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Test scenarios and coverage matrices</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Workflow documentation</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Client validation checklists</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Shell / integration point manifests</td> <td style="text-align: center"> </td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Data flow architecture</td> <td style="text-align: center"> </td> <td style="text-align: center">✓</td> <td style="text-align: center">✓</td> </tr> <tr> <td>Executable test suites</td> <td style="text-align: center"> </td> <td style="text-align: center"> </td> <td style="text-align: center">✓</td> </tr> <tr> <td>Implementation skeletons</td> <td style="text-align: center"> </td> <td style="text-align: center"> </td> <td style="text-align: center">✓</td> </tr> </tbody> </table></div> <p>The first column requires zero code. A UbiSpec with names only is already a complete behavioural specification — structured enough to generate documentation and stories, precise enough to validate with stakeholders. Adding scope annotations (<code class="language-plaintext highlighter-rouge">dm.state</code>, <code class="language-plaintext highlighter-rouge">dm.ctx</code>) reveals the architecture. Adding expressions makes it executable.</p> <h2 id="where-ubispec-fits"> <a href="#where-ubispec-fits" class="anchor-heading" aria-labelledby="where-ubispec-fits"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Where UbiSpec Fits </h2> <p>UbiSpec operationalises the output of collaborative modelling. It’s not a replacement for domain discovery — it’s what you write <em>after</em> discovery, to capture what you learned in a format that survives.</p> <h3 id="starting-from-collaborative-modelling"> <a href="#starting-from-collaborative-modelling" class="anchor-heading" aria-labelledby="starting-from-collaborative-modelling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Starting From Collaborative Modelling </h3> <p>If you’ve done EventStorming, Context Mapping, Example Mapping, or similar workshops, you already have the raw material: bounded contexts, aggregates, commands, events, policies, read models. UbiSpec gives that material a structured home:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EventStorming / Context Mapping / Domain Conversations
    ↓
Bounded contexts identified, aggregates sketched
    ↓
UbiSpec (one Lifecycle per aggregate, one Process per coordination flow)
    ↓
    ├→ Validation with domain experts (names pass)
    ├→ User stories, test scenarios, documentation
    ├→ Enrichment with predicates (developer pass)
    └→ Implementation, executable tests
</code></pre></div></div> <p>The workshop gives you the big picture — contexts, boundaries, flows. UbiSpec zooms into each aggregate and captures the precise rules: which commands are accepted, under what conditions, what changes, what doesn’t.</p> <h3 id="starting-from-scratch"> <a href="#starting-from-scratch" class="anchor-heading" aria-labelledby="starting-from-scratch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Starting From Scratch </h3> <p>If there’s no prior modelling, UbiSpec can be used as a discovery tool. Writing specs forces the questions that matter: <em>What can happen to this thing? When can it happen? What prevents it? What changes as a result? What must stay the same?</em></p> <p>Start with one aggregate. Write the lifecycle. Present it. The gaps and contradictions surface quickly — “wait, can a suspended lab be closed directly?” — because the structure demands answers the way prose doesn’t.</p> <p>As you write more aggregates, cross-cutting coordination surfaces naturally: “when this event happens on aggregate A, does anything need to happen on aggregate B?” That’s a Process UbiSpec. The topology of your system emerges from the specs.</p> <p>This works especially well when prototyping: sketch a few lifecycles, see how they interact, refactor boundaries. UbiSpec are cheap to rewrite because they’re small and self-contained.</p> <h3 id="either-way"> <a href="#either-way" class="anchor-heading" aria-labelledby="either-way"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Either Way </h3> <p>Whether you start from a week-long EventStorming or a single conversation, UbiSpec captures the output in the same format. The quality of the specs depends on the quality of the discovery — but the format ensures that whatever you discover doesn’t evaporate.</p> </main> <hr> <footer> <p class="text-small mb-0">UbiSpec is open source under the MIT License.</p> <div class="d-md-none mt-4 fs-2"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
